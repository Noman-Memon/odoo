<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="rest_staff_qweb_report_template">
            <!--            # here docs work like a self (self means object and it is used in python file but in qweb doc means object and here o is loop's variable)-->
            <t t-call="web.html_container">
                <!--                from this way we iterate document fields and o is loop's variable-->
                <t t-foreach="docs" t-as="o">
                    <!--                    if we want to call function at the time print press then do like this and we get all values in variable-->
                    <t t-set="valuesthroughfunction" t-value="o.get_values_in_report()"/>
                    <t t-call="web.internal_layout">
                        <!--                        # external_layout is used for company data external_layout and-->
                        <!--                        html_container both are default templates we just call it-->
                        <div class="page" style="page-break-before:always;">
                            <!--                            # watermark on page-->
                            <div style="position:absolute;text-align:center;z-index:-1;border:0;opacity:0.5;padding-top:330px;padding-left:145px">
                                <img t-att-src="'data:image/png;base64,%s' %to_text(o.user_company.logo)"
                                     style="height:600px;width:600px;opacity:0.15;"/>
                            </div>
                            <br/>
                            <!--                            if we want to make any calculation in xml file then we need to create variable, set values through -->
                            <!--                            <t t-set="count" t-value="1"/> this and get value through <spen t-esc="count"/>-->
                            <t t-set="count" t-value="1"/>
                            <!--                            # get variable value like this-->
                            <spen t-esc="count"/>
                            <p>This value comes through line 25</p>
                            <br/>
                            <h1>Normal fields data</h1>
                            <ul>
                                <li>Name:
                                    <span t-field="o.name"/>
                                </li>
                                <li>Age:
                                    <span t-field="o.age"/>
                                </li>
                                <li>Gender:
                                    <span t-field="o.gender"/>
                                </li>
                                <li>Date Of Birth:
                                    <span t-field="o.dob"/>
                                </li>
                                <li>Country:
                                    <span t-field="o.country_id.name"/>
                                </li>
                                <li>Country:
                                    <span t-field="o.country_id.id"/>
                                </li>
                                <li>Country:
                                    <span t-field="o.country_id.code"/>
                                </li>
                                <li>Mobile:
                                    <span t-field="o.mobile"/>
                                </li>
                                <h1>Many2one fields data</h1>
                                <!--                                # collect data from many2many field-->
                                <t t-foreach="o.country_ids" t-as="c">
                                    <span t-field="c.name"/>
                                    <br/>
                                </t>
                                <br/>
                                <h1>One2many fields data</h1>
                                <!--                                collect data from one2many fileds-->
                                <table width="100%" style="border:1px solid black;">
                                    <tr>
                                        <th>Name</th>
                                        <th>Product</th>
                                    </tr>
                                    <t t-foreach="o.staff_line_ids" t-as="sl">
                                        <tr>

                                            <th>
                                                <span t-field="sl.name"/>

                                            </th>
                                            <th>

                                                <span t-field="sl.product_id.name"/>
                                            </th>
                                            <br/>
                                        </tr>
                                    </t>
                                </table>
                                <br/>
                                <h1>Many2many fields data</h1>
                                <!--                                # if we want to get data in table-->
                                <table width="100%" style="border:1px solid black;">
                                    <tr>
                                        <th>Ser No.</th>
                                        <th>Country Id</th>
                                        <th>Country Name</th>
                                        <th>Country Code</th>
                                    </tr>
                                    <t t-foreach="o.country_ids" t-as="c">
                                        <tr>
                                            <td>
                                                <span t-esc="count"/>
                                            </td>
                                            <td>
                                                <span t-field="c.id"/>
                                            </td>
                                            <td>
                                                <span t-field="c.name"/>
                                            </td>
                                            <td>
                                                <span t-field="c.code"/>
                                            </td>
                                        </tr>
                                        <t t-set="count" t-value="count + 1"/>
                                    </t>
                                </table>
                            </ul>
                            <spen t-esc="valuesthroughfunction"/>
                            <!--                            or-->
                            <spen t-esc="valuesthroughfunction['fourth']"/>
                            <spen t-esc="valuesthroughfunction['current_datetime    ']"/>
                        </div>
                    </t>
                </t>
            </t>
        </template>
    </data>

    <!--    declare qweb report-->
    <!--    if we want to hide print button then just add menu="False" field-->
    <report
            id="rest_staff_report_id"
            model="rest.staff"
            report_type="qweb-pdf"
            string="Print Staff Data"
            name="tutorial_project.rest_staff_qweb_report_template"
            file="tutorial_project.rest_staff_qweb_report_template"
            print_report_name="'Staff Report'"
    />
</odoo>